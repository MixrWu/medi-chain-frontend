<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediChain Lite dApp</title>

    <!-- Bootstrap 5 -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    >

    <style>
        body {
            background-color: #f5f7fb;
        }
        .card {
            border-radius: 1rem;
        }
        .record-card {
            border-left: 4px solid #0d6efd;
        }
        .badge-time {
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-dark bg-primary mb-4">
    <div class="container">
        <span class="navbar-brand mb-0 h1">MediChain Lite</span>
        <button id="connectBtn" class="btn btn-light btn-sm">
            ğŸ”— é€£æ¥ MetaMask
        </button>
    </div>
</nav>

<div class="container mb-5">
    <!-- é€£ç·šç‹€æ…‹ -->
    <div class="alert alert-secondary" id="accountBox">
        å°šæœªé€£æ¥éŒ¢åŒ…
    </div>

    <div class="row g-4">
        <!-- æŸ¥è©¢ç—…æ­· -->
        <div class="col-lg-6">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-3">æŸ¥è©¢ç—…æ‚£ç´€éŒ„</h5>

                    <div class="mb-3">
                        <button id="querySelfBtn" class="btn btn-outline-primary btn-sm">
                            æŸ¥è©¢è‡ªå·±çš„ç—…æ­·
                        </button>
                    </div>

                    <div class="mb-3">
                        <label for="otherPatientAddress" class="form-label">
                            æŸ¥è©¢å…¶ä»–ç—…æ‚£ç—…æ­·ï¼ˆé™è¢«æˆæ¬Šé†«ç”Ÿï¼‰
                        </label>
                        <div class="input-group">
                            <input
                                    id="otherPatientAddress"
                                    class="form-control"
                                    placeholder="è¼¸å…¥ç—…æ‚£éŒ¢åŒ…åœ°å€"
                            >
                            <button id="queryOtherBtn" class="btn btn-primary">
                                æŸ¥è©¢
                            </button>
                        </div>
                    </div>

                    <hr>
                    <h6 class="text-muted">æŸ¥è©¢çµæœ</h6>
                    <div id="recordsContainer" class="mt-2"></div>
                </div>
            </div>
        </div>

        <!-- æˆæ¬Šèˆ‡æ–°å¢ç—…æ­· -->
        <div class="col-lg-6">
            <!-- æˆæ¬Šé†«ç”Ÿ -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title mb-3">æˆæ¬Šé†«ç”Ÿè®€å–ç—…æ­·ï¼ˆç—…æ‚£ï¼‰</h5>

                    <div class="mb-3">
                        <label for="doctorAddress" class="form-label">é†«ç”ŸéŒ¢åŒ…åœ°å€</label>
                        <input
                                id="doctorAddress"
                                class="form-control"
                                placeholder="0x é–‹é ­çš„åœ°å€"
                        >
                    </div>

                    <button id="grantBtn" class="btn btn-success">
                        æˆæ¬Šé†«ç”Ÿ
                    </button>
                    <p id="grantStatus" class="mt-2 text-muted small"></p>
                </div>
            </div>

            <!-- æ–°å¢ç—…æ­· -->
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-3">æ–°å¢ç—…æ­·ï¼ˆé†«ç”Ÿï¼‰</h5>

                    <div class="mb-3">
                        <label for="newPatient" class="form-label">ç—…æ‚£éŒ¢åŒ…åœ°å€</label>
                        <input
                                id="newPatient"
                                class="form-control"
                                placeholder="0x é–‹é ­çš„åœ°å€"
                        >
                    </div>

                    <div class="mb-3">
                        <label for="newDoctor" class="form-label">é†«ç”Ÿåç¨±</label>
                        <input
                                id="newDoctor"
                                class="form-control"
                                placeholder="ä¾‹å¦‚ï¼šæ—å¤§åŒé†«å¸«"
                        >
                    </div>

                    <div class="mb-3">
                        <label for="newDiagnosis" class="form-label">è¨ºæ–·å…§å®¹</label>
                        <input
                                id="newDiagnosis"
                                class="form-control"
                                placeholder="ä¾‹å¦‚ï¼šåé ­ç—›ã€ä¸Šå‘¼å¸é“æ„ŸæŸ“â€¦"
                        >
                    </div>

                    <div class="mb-3">
                        <label for="newNote" class="form-label">å‚™è¨» / é†«å›‘</label>
                        <textarea
                                id="newNote"
                                class="form-control"
                                rows="3"
                                placeholder="ç”¨è—¥å»ºè­°ã€ç”Ÿæ´»æŒ‡å°ã€è¿½è¹¤æ™‚é–“ç­‰"
                        ></textarea>
                    </div>

                    <button id="addRecordBtn" class="btn btn-primary">
                        æ–°å¢ç—…æ­·
                    </button>
                    <p id="addStatus" class="mt-2 text-muted small"></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.0/dist/ethers.umd.min.js"></script>
<script src="abi.js"></script>
<script src="app.js"></script>
</body>
</html>